<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Gasco Web Component toast</title>
    <link href="../../../../../css/gasco.bundle.css" rel="stylesheet" />

    <script nomodule src="../../../../../dist/gasco/gasco.js"></script>
    <script type="module" src="../../../../../dist/gasco/gasco.esm.js"></script>

  </head>
  <script type="module">
    import { toastController } from '../../../../../dist/gasco/index.esm.js';
    window.toastController = toastController;
  </script>
  <body>

    <div style="display: grid; gap: 1rem;">
      <gasco-button
          expand="block"
          id="show-bottom-toast"
          
          onclick="openToast({ message: 'Hellooo', position: 'bottom', duration: 2000, htmlAttributes: { 'data-testid': 'basic-toast' } })"
        >
          Position Bottom
        </gasco-button>

        <gasco-button
          expand="block"
          id="show-top-toast"
          onclick="openToast({ message: 'Hellooo', position: 'top', duration: 2000 })"
        >
          Position Top
        </gasco-button>

        <gasco-button
          expand="block"
          id="show-middle-toast"
          onclick="openToast({ message: 'Hellooo', position: 'middle', duration: 2000 })"
        >
          Position Middle
        </gasco-button>

        <gasco-button
          expand="block"
          onclick="openToast({header: 'Toast header', message: 'Toast message', duration: 2000})"
        >
          Header Toast
        </gasco-button>

        <gasco-button
          expand="block"
          onclick="openToast({header: 'Toast header', message: 'Really long message that should go all of the way to the button', buttons: ['Action'] })"
        >
          Header + Action Toast
        </gasco-button>

        <gasco-button
          expand="block"
          id="two-line-toast"
          onclick="openToast({message: 'Two-line message\nwith action.', buttons: ['Action'] })"
        >
          Long Message
        </gasco-button>

        <gasco-button
          expand="block"
          id="close-button-toast"
          onclick="openToast({message: 'click to close', buttons: ['Close'] })"
        >
          Close Button
        </gasco-button>

        <gasco-button
          expand="block"
          id="custom-close-text-toast"
          onclick="openToast({message: 'click to close', buttons: ['closing time'] })"
        >
          Custom Close Button
        </gasco-button>

        <gasco-button expand="block" id="custom-actgasco-buttons-toast" onclick="openToastWithButtonOptions()">
          Custom Buttons
        </gasco-button>

        <gasco-button
          expand="block"
          id="translucent-toast"
          onclick="openToast({message: 'click to close', buttons: ['Close'], translucent: true})"
        >
          Translucent Toast
        </gasco-button>

        <gasco-button
          expand="block"
          id="color-toast"
          onclick="openToast({message: 'click to close', buttons: [{text: 'Close'}, {icon: 'close', role: 'cancel'}], color: 'secondary'})">
          Color Toast
        </gasco-button>

        <gasco-button
          expand="block"
          id="light-color-toast"
          onclick="openToast({message: 'click to close', buttons: [{text: 'Close'}, {icon: 'close', role: 'cancel'}], color: 'light'})"
        >
          Light Color Toast
        </gasco-button>

        <gasco-button
          expand="block"
          id="custom-class-toast"
          onclick="openToast({message: 'click to close', buttons: ['Close'], cssClass: 'my-custom-class'})"
        >
          Custom Class
        </gasco-button>

        <gasco-button
          expand="block"
          id="toast-start-and-end"
          onclick="openToast({message: 'click to close', buttons: ['Close'], cssClass: 'toast-start-and-end'})"
        >
          Show Toast with start-end position
        </gasco-button>

        <gasco-button
          expand="block"
          id="toast-html"
          onclick="openToast({message: '<gasco-button>Button in a Toast!</gasco-button>', buttons: ['Close'] })"
        >
          Show HTML Toast
        </gasco-button>

        <gasco-button
          expand="block"
          id="toast-with-icon"
          onclick="openToast({ header: 'Bluetooth', message: 'Device connected.', icon: 'bluetooth', duration: 2000 })"
        >
          Toast with Icon
        </gasco-button>

        <gasco-button
          expand="block"
          id="toast-with-icon-2"
          onclick="openToast({ message: 'An error has occurred!', icon: 'warning', color: 'secondary', duration: 2000 })"
        >
          Toast with Icon 2
        </gasco-button>

        <gasco-button
          expand="block"
          id="toast-with-icon-3"
          onclick="openToast({ message: 'Debug me...', icon: 'bug', buttons: ['Close'] })"
        >
          Toast with Icon 3
        </gasco-button>
    </div>
    <script>

      console.log(window)
      window.addEventListener('gascoToastDidDismiss', function (e) {
        console.log('didDismiss', e);
      });
      window.addEventListener('gascoToastWillDismiss', function (e) {
        console.log('willDismiss', e);
      });

      async function openToast(opts) {
        const toast = await toastController.create(opts);
        await toast.present();
      }

      async function openToastWithButtonOptions() {
        const opts = {
          message: 'click to close',
          buttons: [
            {
              side: 'start',
              icon: 'star',
              handler: () => {
                console.log('favorite button clicked!');
                return false;
              },
            },
            {
              text: 'Close',
              side: 'end',
              role: 'cancel',
              handler: () => {
                console.log('close button clicked!');
              },
            },
          ],
        };
        await openToast(opts);
      }
    </script>

    <style>
      .my-custom-class {
        --border-radius: 20px;
        --border-width: 5px;
        --border-style: double;
        --border-color: yellow;
        --background: lightyellow;
        --button-color: black;
        --color: black;
        --width: 180px;
        --height: 180px;
      }

      f {
        display: block;
        background: blue;

        width: 100%;
        height: 200px;
        margin: 20px auto;
      }

      .red {
        background-color: #ea445a;
      }

      .green {
        background-color: #76d672;
      }

      .blue {
        background-color: #3478f6;
      }

      .yellow {
        background-color: #ffff80;
      }

      .pink {
        background-color: #ff6b86;
      }

      .purple {
        background-color: #7e34f6;
      }

      .black {
        background-color: #000;
      }

      .orange {
        background-color: #f69234;
      }

      .toast-start-and-end {
        --start: 0;
        --end: 0;
        --max-width: 100%;
      }
    </style>
  </body>
</html>
